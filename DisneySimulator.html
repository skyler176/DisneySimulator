<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>迪士尼CEO模拟器</title>
    <style>
        :root {
            --primary-color: #0066cc;
            --secondary-color: #ff4c4c;
            --light-blue: #e6f2ff;
            --dark-blue: #004080;
            --disney-purple: #9b59b6;
            --disney-gold: #f1c40f;
            --background: #f8f9fa;
            --text-color: #333;
            --box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, "Microsoft YaHei", sans-serif;
        }
        
        body {
            background-color: var(--background);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            transition: background-color 0.3s ease;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: 12px;
            box-shadow: var(--box-shadow);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--disney-gold);
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: var(--disney-purple);
            font-style: italic;
        }
        
        .game-container {
            min-height: 400px;
        }
        
        .game-intro {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .scene-container {
            padding: 20px;
            background-color: var(--light-blue);
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .scene-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .scene-title {
            font-size: 1.3em;
            color: var(--dark-blue);
            font-weight: bold;
        }
        
        .scene-year {
            background-color: var(--disney-purple);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: bold;
        }
        
        .scene-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        
        .scene-description {
            margin-bottom: 20px;
            line-height: 1.8;
        }
        
        .stats-container {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .stat {
            background-color: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            text-align: center;
            margin: 5px;
            flex: 1;
            min-width: 100px;
        }
        
        .stat-label {
            font-size: 0.8em;
            color: #666;
        }
        
        .stat-value {
            font-size: 1.2em;
            font-weight: bold;
            color: var(--dark-blue);
        }
        
        .choices-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .choice-btn {
            background-color: white;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            padding: 12px 15px;
            cursor: pointer;
            font-size: 1em;
            text-align: left;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .choice-btn:hover {
            background-color: var(--light-blue);
            transform: translateY(-2px);
        }
        
        .choice-btn:active {
            transform: translateY(0);
        }
        
        .result-container {
            background-color: #fff8e1;
            padding: 20px;
            border-radius: 8px;
            border-left: 5px solid var(--disney-gold);
            margin-top: 20px;
            display: none;
        }
        
        .result-title {
            color: var(--disney-purple);
            margin-bottom: 10px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .result-description {
            margin-bottom: 15px;
        }
        
        .impact {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .impact-label {
            min-width: 120px;
            color: #666;
        }
        
        .impact-value {
            font-weight: bold;
            color: var(--dark-blue);
        }
        
        .next-btn {
            background-color: var(--disney-purple);
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 25px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 15px;
            display: block;
            margin-left: auto;
        }
        
        .next-btn:hover {
            background-color: #8e44ad;
            transform: translateY(-2px);
        }
        
        .next-btn:active {
            transform: translateY(0);
        }
        
        .game-over {
            text-align: center;
            padding: 30px;
        }
        
        .game-over h2 {
            color: var(--disney-purple);
            margin-bottom: 20px;
        }
        
        .restart-btn {
            background-color: var(--disney-gold);
            color: var(--dark-blue);
            font-weight: bold;
            border: none;
            border-radius: 20px;
            padding: 12px 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-top: 20px;
            display: inline-block;
        }
        
        .restart-btn:hover {
            background-color: #f39c12;
            transform: translateY(-2px);
        }
        
        .progress-container {
            margin: 20px 0;
            position: relative;
        }
        
        .timeline {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .timeline-bar {
            height: 8px;
            background-color: #ddd;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .timeline-progress {
            height: 100%;
            background-color: var(--disney-gold);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .advice-container {
            margin-top: 20px;
            padding: 15px;
            background-color: #e8f5e9;
            border-radius: 8px;
            border-left: 5px solid #4caf50;
            display: none;
        }
        
        .advice-title {
            color: #2e7d32;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
        }
        
        .loading div {
            width: 10px;
            height: 10px;
            background-color: var(--disney-purple);
            border-radius: 50%;
            margin: 0 5px;
            animation: bounce 0.6s infinite alternate;
        }
        
        .loading div:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .loading div:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-15px); }
        }
        
        /* 响应式设计 */
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            
            .scene-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .stat {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>迪士尼CEO模拟器</h1>
            <p class="subtitle">体验迪士尼历史上的关键决策时刻</p>
        </header>
        
        <div class="game-container" id="gameContainer">
            <!-- 游戏介绍 -->
            <div class="game-intro" id="gameIntro">
                <h2>欢迎来到迪士尼CEO模拟器</h2>
                <p>在这个游戏中，你将扮演迪士尼公司的CEO，经历公司发展历程中的关键决策时刻。</p>
                <p>每个决策都会影响公司的财务状况、创新能力、品牌价值和员工士气。</p>
                <p>你的目标是通过明智的决策，带领迪士尼走向成功！</p>
                <button id="startBtn" class="next-btn">开始游戏</button>
            </div>
            
            <!-- 场景容器 -->
            <div class="scene-container hidden" id="sceneContainer">
                <div class="scene-header">
                    <div class="scene-title" id="sceneTitle">场景标题</div>
                    <div class="scene-year" id="sceneYear">年份</div>
                </div>
                
                <div class="scene-image" id="sceneImage">
                    场景图片
                </div>
                
                <div class="scene-description" id="sceneDescription">
                    场景描述文字...
                </div>
                
                <div class="stats-container">
                    <div class="stat">
                        <div class="stat-label">财务</div>
                        <div class="stat-value" id="financeValue">80</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">创新</div>
                        <div class="stat-value" id="innovationValue">70</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">品牌</div>
                        <div class="stat-value" id="brandValue">85</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">士气</div>
                        <div class="stat-value" id="moraleValue">75</div>
                    </div>
                </div>
                
                <div class="choices-container" id="choicesContainer">
                    <!-- 选项按钮会动态生成 -->
                </div>
                
                <div class="result-container" id="resultContainer">
                    <div class="result-title" id="resultTitle">决策结果</div>
                    <div class="result-description" id="resultDescription">
                        结果描述...
                    </div>
                    <div class="impact-container">
                        <div class="impact">
                            <div class="impact-label">财务影响:</div>
                            <div class="impact-value" id="financeImpact">+5</div>
                        </div>
                        <div class="impact">
                            <div class="impact-label">创新影响:</div>
                            <div class="impact-value" id="innovationImpact">+10</div>
                        </div>
                        <div class="impact">
                            <div class="impact-label">品牌影响:</div>
                            <div class="impact-value" id="brandImpact">-3</div>
                        </div>
                        <div class="impact">
                            <div class="impact-label">士气影响:</div>
                            <div class="impact-value" id="moraleImpact">+7</div>
                        </div>
                    </div>
                    <button id="nextSceneBtn" class="next-btn">继续</button>
                </div>
                
                <div class="advice-container" id="adviceContainer">
                    <div class="advice-title">决策分析</div>
                    <div class="advice-content" id="adviceContent">
                        这里将展示对你的决策的分析和建议...
                    </div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="timeline">
                    <span>1920s</span>
                    <span>1950s</span>
                    <span>1980s</span>
                    <span>2000s</span>
                    <span>现在</span>
                </div>
                <div class="timeline-bar">
                    <div class="timeline-progress" id="timelineProgress"></div>
                </div>
            </div>
            
            <!-- 游戏结束界面 -->
            <div class="game-over hidden" id="gameOver">
                <h2>游戏结束</h2>
                <p>恭喜你完成了迪士尼CEO模拟器!</p>
                <div id="finalStats" class="stats-container">
                    <!-- 最终数据会动态生成 -->
                </div>
                <div id="gameOverMessage"></div>
                <button id="restartBtn" class="restart-btn">重新开始</button>
            </div>
            
            <!-- 加载动画 -->
            <div class="loading hidden" id="loading">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </div>
    </div>

    <script>
        // 游戏数据
        const gameData = {
            // 玩家状态
            playerStats: {
                finance: 70,
                innovation: 70,
                brand: 70,
                morale: 70
            },
            
            currentSceneIndex: 0,
            
            // 游戏场景
            scenes: [
                {
                    id: 1,
                    title: "米老鼠的诞生",
                    year: "1928",
                    description: "在失去了奥斯华兔子的版权后，你需要创造一个新角色。你想到了一个叫米老鼠的角色，但团队成员担心老鼠形象不够讨喜。这个决定将影响公司的未来方向。",
                    choices: [
                        {
                            text: "坚持创造米老鼠角色，并为其配音",
                            result: {
                                title: "米老鼠大获成功！",
                                description: "你坚持了自己的创意，《蒸汽船威利号》在1928年11月上映，米老鼠立即成为了明星！这个决定奠定了迪士尼的基础。",
                                impacts: { finance: +15, innovation: +20, brand: +25, morale: +15 },
                                advice: "这一决策展示了创始人坚持愿景的重要性。在公司发展的关键时刻，有时需要勇气坚持自己的创意想法，即使面临质疑。"
                            }
                        },
                        {
                            text: "听取意见，开发一个'更安全'的角色形象",
                            result: {
                                title: "错失标志性角色",
                                description: "你选择了妥协，开发了一个不那么有特色的角色。虽然取得了一定成功，但没能创造出像米老鼠那样的标志性形象，公司发展较为缓慢。",
                                impacts: { finance: +5, innovation: -10, brand: -5, morale: +5 },
                                advice: "有时候过于谨慎会错失突破性机会。创新往往需要冒险，尤其是在创意产业。"
                            }
                        },
                        {
                            text: "寻求法律途径争回奥斯华兔子的版权",
                            result: {
                                title: "旷日持久的法律纠纷",
                                description: "你选择进行法律斗争，但这消耗了大量资源和时间。虽然最终取得了部分胜利，但延误了公司的发展进程。",
                                impacts: { finance: -15, innovation: 0, brand: -5, morale: -10 },
                                advice: "有时与其在过去的失败上纠缠不清，不如将精力投入到新的机会中。知识产权保护很重要，但前进的眼光更为关键。"
                            }
                        },
                        {
                            text: "寻求法律途径争回奥斯华兔子的版权",
                            result: {
                                title: "旷日持久的法律纠纷",
                                description: "你选择进行法律斗争，但这消耗了大量资源和时间。虽然最终取得了部分胜利，但延误了公司的发展进程。",
                                impacts: { finance: -15, innovation: 0, brand: -5, morale: -10 },
                                advice: "有时与其在过去的失败上纠缠不清，不如将精力投入到新的机会中。知识产权保护很重要，但前进的眼光更为关键。"
                            }
                        }
                    ]
                },
                {
                    id: 2,
                    title: "长篇动画电影的冒险",
                    year: "1937",
                    description: "好莱坞认为动画只适合制作短片。但你有个大胆的想法：制作世界上第一部彩色长篇动画电影《白雪公主和七个小矮人》。这将耗费巨资，超出公司现有资金。业内人士称这是'迪士尼的愚蠢'。",
                    choices: [
                        {
                            text: "不顾一切，抵押房产筹集资金完成电影",
                            result: {
                                title: "历史性的成功！",
                                description: "《白雪公主》在1937年上映，创造了惊人的票房奇迹！影片不仅收回了投资，还开创了长篇动画电影的新时代，奠定了迪士尼在动画领域的霸主地位。",
                                impacts: { finance: +25, innovation: +30, brand: +25, morale: +20 },
                                advice: "这一决策展示了战略性风险的价值。有时候，最大胆的冒险能带来最丰厚的回报，尤其是当你对自己的创意有深刻信念时。"
                            }
                        },
                        {
                            text: "缩减预算，制作规模较小的电影降低风险",
                            result: {
                                title: "平淡的成果",
                                description: "你选择了妥协，制作了一部较短、制作价值较低的电影。虽然避免了财务灾难，但错失了创造里程碑作品的机会，公司仍被视为小型工作室。",
                                impacts: { finance: +5, innovation: -5, brand: 0, morale: -5 },
                                advice: "在关键项目上过度节约有时会限制潜在的突破。识别哪些项目值得全力投入是领导者的关键能力。"
                            }
                        },
                        {
                            text: "放弃长篇电影计划，继续专注于短片制作",
                            result: {
                                title: "安全但平庸",
                                description: "你选择了稳妥路线，继续制作米老鼠短片。虽然这些作品有稳定的受众，但公司错失了转型机会，在行业中的地位停滞不前。",
                                impacts: { finance: 0, innovation: -20, brand: -10, morale: -15 },
                                advice: "过度规避风险可能导致公司错失行业变革的关键时机。有时候，最大的风险是不冒任何风险。"
                            }
                        }
                    ]
                },
                {
                    id: 3,
                    title: "主题公园的构想",
                    year: "1955",
                    description: "你一直梦想建造一个地方，让孩子和父母可以一起玩乐。你提出了'迪士尼乐园'的概念：一个以迪士尼角色为主题的游乐园。董事会认为这是疯狂的投资，电影公司不应该进入主题公园业务。",
                    choices: [
                        {
                            text: "坚持个人愿景，筹集资金建造迪士尼乐园",
                            result: {
                                title: "开创性的成功！",
                                description: "1955年，迪士尼乐园在加州开幕，立即成为巨大成功！这不仅拓展了公司业务范围，还创造了全新的娱乐模式，为迪士尼开辟了新的收入来源。",
                                impacts: { finance: +25, innovation: +25, brand: +30, morale: +15 },
                                advice: "这一决策证明了多元化经营战略的价值，以及将核心品牌延伸到新领域的潜力。有时候，真正的创新在于突破行业界限。"
                            }
                        },
                        {
                            text: "与现有游乐园运营商合作，降低风险",
                            result: {
                                title: "有限的控制权",
                                description: "你选择与经验丰富的游乐园运营商合作。虽然降低了风险，但失去了对体验质量的完全控制，公园并未完全体现迪士尼精神，获得了中等成功。",
                                impacts: { finance: +10, innovation: +5, brand: +5, morale: +5 },
                                advice: "战略合作虽然能降低风险，但可能稀释品牌体验。在涉及核心品牌价值的项目上，控制权往往至关重要。"
                            }
                        },
                        {
                            text: "放弃主题公园想法，专注于电影业务",
                            result: {
                                title: "错失多元化机会",
                                description: "你选择专注于电影制作核心业务。虽然电影部门继续取得成功，但公司错失了扩展到体验经济的关键机会，限制了长期增长。",
                                impacts: { finance: -5, innovation: -15, brand: -10, morale: -5 },
                                advice: "有时候坚持核心业务看似稳妥，实则错失了战略性转型机会。成功的企业往往能够在适当时机扩展其业务范围。"
                            }
                        }
                    ]
                },
                {
                    id: 4,
                    title: "度过低谷时期",
                    year: "1984",
                    description: "迪士尼公司经历了一段艰难时期，动画电影表现平平，公司股票下跌，甚至面临收购威胁。公司需要新的方向。",
                    choices: [
                        {
                            text: "引入新领导层，专注于复兴动画部门",
                            result: {
                                title: "动画文艺复兴！",
                                description: "在艾斯纳和威尔斯的领导下，迪士尼动画工作室重获新生。从《小美人鱼》开始，公司进入了'动画复兴时期'，推出了一系列经典作品如《美女与野兽》和《狮子王》。",
                                impacts: { finance: +20, innovation: +20, brand: +25, morale: +25 },
                                advice: "这一决策展示了回归核心优势的价值。在困难时期，重投资于公司的传统强项通常是明智之举，同时引入新鲜思想可以激发创新。"
                            }
                        },
                        {
                            text: "大幅削减成本，缩小公司规模以提高盈利能力",
                            result: {
                                title: "短期盈利，长期问题",
                                description: "你选择了大幅裁员和削减项目。虽然短期内财务状况改善，但创新能力受损，人才流失，公司在90年代错过了动画复兴的黄金时期。",
                                impacts: { finance: +10, innovation: -20, brand: -15, morale: -25 },
                                advice: "在危机时刻，过度关注短期财务指标可能破坏长期竞争力。保护创意人才和创新能力应当是优先事项。"
                            }
                        },
                        {
                            text: "出售公司部分资产，专注于主题公园业务",
                            result: {
                                title: "不平衡的发展",
                                description: "你选择缩减电影制作，重点发展主题公园。虽然公园业务稳定增长，但由于缺乏新鲜内容和角色，长期增长受限，品牌活力下降。",
                                impacts: { finance: +5, innovation: -10, brand: -5, morale: -5 },
                                advice: "迪士尼的成功在于内容创作与体验经济的协同。放弃任一方面都会削弱整体生态系统的价值。战略决策应考虑业务间的协同效应。"
                            }
                        }
                    ]
                },
                {
                    id: 5,
                    title: "数字时代的挑战",
                    year: "2005",
                    description: "传统动画面临来自计算机动画的挑战，皮克斯成为行业新宠。互联网改变了人们消费内容的方式。迪士尼需要应对数字革命。",
                    choices: [
                        {
                            text: "收购皮克斯，拥抱数字动画技术",
                            result: {
                                title: "战略性收购成功！",
                                description: "2006年，迪士尼以74亿美元收购皮克斯，不仅获得了领先的数字动画技术，还迎来了约翰·拉塞特的创意领导。这一决定重振了迪士尼动画部门，带来一系列成功作品。",
                                impacts: { finance: +15, innovation: +30, brand: +20, morale: +20 },
                                advice: "这一决策展示了识别战略性并购机会的重要性。有时最佳创新路径是收购已经掌握关键技术和创意的公司，而非从零开始。"
                            }
                        },
                        {
                            text: "加大投资内部数字技术，自主开发能力",
                            result: {
                                title: "技术追赶之路",
                                description: "你选择投资内部数字动画技术。虽然最终取得一定进展，但过渡期较长，在技术和人才方面落后于竞争对手，错失了一些市场机会。",
                                impacts: { finance: -5, innovation: +10, brand: +5, morale: +5 },
                                advice: "建立内部能力很重要，但在技术快速变革时期，'构建vs购买'的决策需要考虑时间成本和市场机会窗口。"
                            }
                        },
                        {
                            text: "坚持传统手绘动画，强调独特艺术风格",
                            result: {
                                title: "坚守传统代价高昂",
                                description: "你选择专注于传统动画。尽管创作出几部艺术价值高的作品，但票房表现不佳，市场份额下滑，公司陷入困境。",
                                impacts: { finance: -20, innovation: -10, brand: -5, morale: -15 },
                                advice: "尊重传统很重要，但拒绝拥抱技术变革可能导致市场淘汰。最佳策略往往是在保留核心价值观的同时适应新技术。"
                            }
                        }
                    ]
                },
                {
                    id: 6,
                    title: "流媒体的崛起",
                    year: "2015",
                    description: "Netflix和其他流媒体服务正在改变娱乐产业格局。传统电视和电影发行模式受到挑战。迪士尼拥有庞大的内容库，但缺乏直接面向消费者的数字平台。",
                    choices: [
                        {
                            text: "大胆投资，建立自己的流媒体服务",
                            result: {
                                title: "Disney+的成功！",
                                description: "2019年，Disney+推出，迅速吸引数千万用户。尽管前期投资巨大，但创建了与消费者的直接关系，为公司未来提供了新的增长引擎。",
                                impacts: { finance: +15, innovation: +25, brand: +20, morale: +15 },
                                advice: "这一决策表明，有时候需要短期财务牺牲来实现长期战略转型。直接面向消费者的业务模式创造了持续价值和深度客户关系。"
                            }
                        },
                        {
                            text: "与现有流媒体平台合作，授权内容获取收入",
                            result: {
                                title: "短期收益，长期问题",
                                description: "你选择继续向Netflix等平台授权内容。虽然带来稳定的授权收入，但失去了建立自有平台的先机，削弱了长期竞争力。",
                                impacts: { finance: +10, innovation: -15, brand: -10, morale: -5 },
                                advice: "在产业转型期，过度依赖旧有商业模式可能带来短期收益，但长期看会削弱竞争地位。有时值得放弃即时利润来构建未来优势。"
                            }
                        },
                        {
                            text: "收购现有流媒体平台，快速进入市场",
                            result: {
                                title: "代价高昂的收购",
                                description: "你决定收购一家成熟的流媒体服务。虽然迅速获得了技术和用户基础，但付出了过高的收购价格，整合难度大，财务压力巨大。",
                                impacts: { finance: -20, innovation: +15, brand: +10, morale: -5 },
                                advice: "战略收购需要谨慎评估价格和整合挑战。有时从零开始构建更有成本效益，尤其是当你已拥有关键资产（如迪士尼的内容库）时。"
                            }
                        }
                    ]
                },
                {
                    id: 7,
                    title: "全球扩张战略",
                    year: "2020",
                    description: "国际市场，特别是亚洲市场的重要性日益增长。迪士尼需要制定全球扩张战略，同时尊重不同文化背景。",
                    choices: [
                        {
                            text: "投资本地化内容制作，适应各地区文化",
                            result: {
                                title: "全球本地化成功！",
                                description: "你加大了在各地区的本地内容投资，如在亚洲制作符合当地文化的电影和节目。这一策略取得了巨大成功，迪士尼品牌在全球各市场实现了真正的渗透。",
                                impacts: { finance: +20, innovation: +15, brand: +25, morale: +15 },
                                advice: "这一决策表明，文化敏感性和本地化策略对于全球扩张至关重要。尊重并融入当地文化能创造更具共鸣的内容和体验。"
                            }
                        },
                        {
                            text: "标准化全球产品，专注于迪士尼核心IP",
                            result: {
                                title: "全球一致性的局限",
                                description: "你选择在全球推广统一的迪士尼体验和内容。虽然在某些市场取得成功，但在文化差异显著的地区遭遇阻力，增长受限。",
                                impacts: { finance: +5, innovation: -5, brand: +5, morale: 0 },
                                advice: "全球品牌需要平衡一致性与本地适应性。过度标准化可能错失文化共鸣的机会，限制市场渗透。"
                            }
                        },
                        {
                            text: "通过合资企业进入新市场，降低风险",
                            result: {
                                title: "合作中的复杂性",
                                description: "你选择与当地企业建立合资公司。这降低了直接投资风险，但导致决策流程复杂，品牌控制力减弱，在某些市场出现合作摩擦。",
                                impacts: { finance: +10, innovation: +5, brand: -5, morale: -5 },
                                advice: "战略合作需要仔细评估控制权与风险之间的平衡。在核心品牌价值方面，有时直接投资尽管风险更高，但能提供更好的品质控制。"
                            }
                        }
                    ]
                }
            ]
        };
        
        // 游戏状态管理
        let gameState = {
            playerStats: {
                finance: 70,
                innovation: 70,
                brand: 70,
                morale: 70
            },
            currentSceneIndex: 0,
            completedScenes: []
        };
        
        // DOM元素
        const elements = {
            gameContainer: document.getElementById('gameContainer'),
            gameIntro: document.getElementById('gameIntro'),
            startBtn: document.getElementById('startBtn'),
            sceneContainer: document.getElementById('sceneContainer'),
            sceneTitle: document.getElementById('sceneTitle'),
            sceneYear: document.getElementById('sceneYear'),
            sceneImage: document.getElementById('sceneImage'),
            sceneDescription: document.getElementById('sceneDescription'),
            financeValue: document.getElementById('financeValue'),
            innovationValue: document.getElementById('innovationValue'),
            brandValue: document.getElementById('brandValue'),
            moraleValue: document.getElementById('moraleValue'),
            choicesContainer: document.getElementById('choicesContainer'),
            resultContainer: document.getElementById('resultContainer'),
            resultTitle: document.getElementById('resultTitle'),
            resultDescription: document.getElementById('resultDescription'),
            financeImpact: document.getElementById('financeImpact'),
            innovationImpact: document.getElementById('innovationImpact'),
            brandImpact: document.getElementById('brandImpact'),
            moraleImpact: document.getElementById('moraleImpact'),
            nextSceneBtn: document.getElementById('nextSceneBtn'),
            adviceContainer: document.getElementById('adviceContainer'),
            adviceContent: document.getElementById('adviceContent'),
            gameOver: document.getElementById('gameOver'),
            finalStats: document.getElementById('finalStats'),
            gameOverMessage: document.getElementById('gameOverMessage'),
            restartBtn: document.getElementById('restartBtn'),
            loading: document.getElementById('loading'),
            timelineProgress: document.getElementById('timelineProgress')
        };
        
        // 游戏初始化
        function initGame() {
            // 重置游戏状态
            gameState = {
                playerStats: {
                    finance: 70,
                    innovation: 70,
                    brand: 70,
                    morale: 70
                },
                currentSceneIndex: 0,
                completedScenes: []
            };
            
            // 绑定开始按钮事件
            elements.startBtn.addEventListener('click', startGame);
            
            // 绑定重新开始按钮事件
            elements.restartBtn.addEventListener('click', restartGame);
            
            // 绑定下一场景按钮事件
            elements.nextSceneBtn.addEventListener('click', loadNextScene);
            
            // 更新UI显示
            updateStatsDisplay();
        }
        
        // 开始游戏
        function startGame() {
            elements.gameIntro.classList.add('hidden');
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                elements.sceneContainer.classList.remove('hidden');
                loadScene(gameState.currentSceneIndex);
                updateTimelineProgress();
            }, 1000);
        }
        
        // 重新开始游戏
        function restartGame() {
            elements.gameOver.classList.add('hidden');
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                initGame();
                elements.sceneContainer.classList.remove('hidden');
                loadScene(gameState.currentSceneIndex);
                updateTimelineProgress();
            }, 1000);
        }
        
        // 加载场景
        function loadScene(index) {
            const scene = gameData.scenes[index];
            
            // 更新场景内容
            elements.sceneTitle.textContent = scene.title;
            elements.sceneYear.textContent = scene.year;
            elements.sceneDescription.textContent = scene.description;
            elements.sceneImage.textContent = `迪士尼 ${scene.year} 场景`;
            
            // 清空选项容器
            elements.choicesContainer.innerHTML = '';
            
            // 生成选项按钮
            scene.choices.forEach((choice, choiceIndex) => {
                const choiceBtn = document.createElement('button');
                choiceBtn.className = 'choice-btn';
                choiceBtn.textContent = choice.text;
                choiceBtn.addEventListener('click', () => makeChoice(index, choiceIndex));
                
                elements.choicesContainer.appendChild(choiceBtn);
            });
            
            // 隐藏结果和建议容器
            elements.resultContainer.style.display = 'none';
            elements.adviceContainer.style.display = 'none';
            
            // 更新统计数据显示
            updateStatsDisplay();
        }
        
        // 做出选择
        function makeChoice(sceneIndex, choiceIndex) {
            const scene = gameData.scenes[sceneIndex];
            const choice = scene.choices[choiceIndex];
            const result = choice.result;
            
            // 更新玩家状态
            updatePlayerStats(result.impacts);
            
            // 记录已完成的场景
            gameState.completedScenes.push({
                sceneIndex,
                choiceIndex,
                result
            });
            
            // 显示结果
            showResult(result);
            
            // 禁用选项按钮
            const choiceButtons = elements.choicesContainer.querySelectorAll('.choice-btn');
            choiceButtons.forEach(button => {
                button.disabled = true;
                button.style.opacity = '0.5';
                button.style.cursor = 'not-allowed';
            });
            
            // 高亮选中的按钮
            choiceButtons[choiceIndex].style.borderColor = 'var(--disney-purple)';
            choiceButtons[choiceIndex].style.borderWidth = '3px';
            choiceButtons[choiceIndex].style.opacity = '1';
        }
        
        // 显示结果
        function showResult(result) {
            elements.resultTitle.textContent = result.title;
            elements.resultDescription.textContent = result.description;
            
            // 更新影响显示
            elements.financeImpact.textContent = formatImpact(result.impacts.finance);
            elements.innovationImpact.textContent = formatImpact(result.impacts.innovation);
            elements.brandImpact.textContent = formatImpact(result.impacts.brand);
            elements.moraleImpact.textContent = formatImpact(result.impacts.morale);
            
            // 设置影响值的颜色
            setImpactColor(elements.financeImpact, result.impacts.finance);
            setImpactColor(elements.innovationImpact, result.impacts.innovation);
            setImpactColor(elements.brandImpact, result.impacts.brand);
            setImpactColor(elements.moraleImpact, result.impacts.morale);
            
            // 显示建议
            if (result.advice) {
                elements.adviceContent.textContent = result.advice;
                elements.adviceContainer.style.display = 'block';
            }
            
            // 显示结果容器
            elements.resultContainer.style.display = 'block';
            elements.resultContainer.scrollIntoView({ behavior: 'smooth' });
        }
        
        // 格式化影响值显示
        function formatImpact(value) {
            if (value > 0) return `+${value}`;
            return value.toString();
        }
        
        // 设置影响值颜色
        function setImpactColor(element, value) {
            if (value > 0) {
                element.style.color = '#4caf50';
            } else if (value < 0) {
                element.style.color = '#f44336';
            } else {
                element.style.color = '#666';
            }
        }
        
        // 更新玩家状态
        function updatePlayerStats(impacts) {
            // 更新各项指标
            gameState.playerStats.finance += impacts.finance;
            gameState.playerStats.innovation += impacts.innovation;
            gameState.playerStats.brand += impacts.brand;
            gameState.playerStats.morale += impacts.morale;
            
            // 确保数值在0-100之间
            for (let stat in gameState.playerStats) {
                if (gameState.playerStats[stat] > 100) gameState.playerStats[stat] = 100;
                if (gameState.playerStats[stat] < 0) gameState.playerStats[stat] = 0;
            }
            
            // 更新UI显示
            updateStatsDisplay();
        }
        
        // 更新统计数据显示
        function updateStatsDisplay() {
            elements.financeValue.textContent = gameState.playerStats.finance;
            elements.innovationValue.textContent = gameState.playerStats.innovation;
            elements.brandValue.textContent = gameState.playerStats.brand;
            elements.moraleValue.textContent = gameState.playerStats.morale;
        }
        
        // 加载下一个场景
        function loadNextScene() {
            gameState.currentSceneIndex++;
            
            // 检查是否还有场景
            if (gameState.currentSceneIndex < gameData.scenes.length) {
                showLoading();
                
                setTimeout(() => {
                    hideLoading();
                    loadScene(gameState.currentSceneIndex);
                    updateTimelineProgress();
                }, 1000);
            } else {
                // 游戏结束
                showGameOver();
            }
        }
        
        // 显示游戏结束界面
        function showGameOver() {
            elements.sceneContainer.classList.add('hidden');
            showLoading();
            
            setTimeout(() => {
                hideLoading();
                elements.gameOver.classList.remove('hidden');
                
                // 生成最终统计数据
                elements.finalStats.innerHTML = '';
                
                const stats = [
                    { name: '财务', value: gameState.playerStats.finance },
                    { name: '创新', value: gameState.playerStats.innovation },
                    { name: '品牌', value: gameState.playerStats.brand },
                    { name: '士气', value: gameState.playerStats.morale }
                ];
                
                stats.forEach(stat => {
                    const statElement = document.createElement('div');
                    statElement.className = 'stat';
                    statElement.innerHTML = `
                        <div class="stat-label">${stat.name}</div>
                        <div class="stat-value">${stat.value}</div>
                    `;
                    elements.finalStats.appendChild(statElement);
                });
                
                // 计算总分
                const totalScore = Object.values(gameState.playerStats).reduce((sum, value) => sum + value, 0);
                
                // 根据总分显示不同的结束信息
                let message = '';
                if (totalScore >= 350) {
                    message = '恭喜！你成为了迪士尼历史上最成功的CEO之一！你的决策平衡了财务、创新、品牌和员工士气，带领公司走向了新的高峰。';
                } else if (totalScore >= 280) {
                    message = '做得好！你是一位优秀的CEO，在多数关键决策中做出了明智的选择，迪士尼在你的领导下稳健发展。';
                } else if (totalScore >= 200) {
                    message = '你的表现中规中矩。虽然有些决策不够理想，但整体上保持了公司的运营。反思一下哪些决策可以改进？';
                } else {
                    message = '你的任期充满挑战。多数关键决策未能把握好方向，公司在多个方面表现不佳。也许再尝试一次，做出不同的选择？';
                }
                
                elements.gameOverMessage.textContent = message;
            }, 1000);
        }
        
        // 更新时间线进度
        function updateTimelineProgress() {
            const progress = (gameState.currentSceneIndex / (gameData.scenes.length - 1)) * 100;
            elements.timelineProgress.style.width = `${progress}%`;
        }
        
        // 显示加载动画
        function showLoading() {
            elements.loading.classList.remove('hidden');
        }
        
        // 隐藏加载动画
        function hideLoading() {
            elements.loading.classList.add('hidden');
        }
        
        // 初始化游戏
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>